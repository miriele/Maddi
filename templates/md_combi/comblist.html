{% extends "md_main/base2.html" %}
{% load mathfilters %}
{% load static %}
<head>
	<link rel="stylesheet" href="{% static 'style_combi.css' %}">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">	
</head>
<style>

body {
  font-family: 'Nunito', sans-serif;
  background-color: #f5f5f5;
  margin: 0;
  padding: 0;
}

/* 헤더 스타일 */
header {
  background-color: #ffcc80;
  padding: 20px;
  text-align: center;
  border-bottom: 1px solid #ffb74d;
}

header h1 {
  margin: 0;
  font-size: 36px;
  color: #e65100;
}

/* 메인 콘텐츠 스타일 */
.main-content {
  padding: 20px;
}

/* 디저트 카드 스타일 */
.dessert-card {
  background-color: #ffffff;
  border: 1px solid #ddd;
  border-radius: 10px;
  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
  padding: 20px;
  margin-bottom: 20px;
}

.dessert-card img {
  max-width: 100%;
  border-radius: 5px;
}

.dessert-card h2 {
  font-size: 24px;
  margin-top: 10px;
}

/* 버튼 스타일 */
.button {
  display: inline-block;
  padding: 10px 20px;
  background-color: #ff9800;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.button:hover {
  background-color: #f57c00;
}

/* 푸터 스타일 */
footer {
  background-color: #ffcc80;
  padding: 10px;
  text-align: center;
  border-top: 1px solid #ffb74d;
}

/* 아이콘 스타일 (Font Awesome 사용 예시) */
 .icon {
  font-size: 24px;
  color: #e65100;
  margin-right: 10px;
}

/* 애니메이션 효과 */
@keyframes falling-stars {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100vh);
  }
}

.star {
  position: absolute;
  top: -20px;
  left: calc(50% - 10px);
  font-size: 20px;
  animation: falling-stars 5s linear infinite;
}


</style>

<body>
{% block content %}

	<div style="text-align: center;">
					{% if memid %}
						<div class = "container">
							<div class="col-md-12 mt-5"></div>
							<div class="row">
								<div class="col-4" style="text-align: left;">
										<h5> {{count}}개의 글 </h5> 
								</div>
								<div class="col-8" style="text-align: right;" >
										<input class="inputbutton" type="button" value="글 작성" onclick="location='/md_combi/combwrite'">
								</div>
							</div>
						</div>
					{% else %}
						<div class = "container">
							<div class="col-md-12 mt-5"></div>
							<div class="row">
								<div class="col-4" style="text-align: left;">
										<h5> {{count}}개의 글 </h5> 
								</div>
								<div class="col-8" style="text-align: right;">
										<h5 style="text-align: right;"> [글 작성은 로그인 후에 이용하실수 있습니다]</h5>
								</div>
							</div>
						</div>
					{% endif %}
				<div class = "container">
					<div class="row">
						<div class="col-2"> 번호 </div>
						<div class="col-2"> 제목 </div>
						<div class="col-2"> 인원 </div>
						<div class="col-2"> 작성자 </div>
						<div class="col-2"> 추천수 </div>
						<div class="col-2"> 작성일 </div>
					</div>
				</div>
				{% if count == 0 %}		<!-- 글이 없음 -->
					<tr>
						<td colspan="7" align="center" >
							작성된 글이 없습니다.
					</tr>
				{% else %}
					{% for c in md_comb %}
					<div class = "container">
						<div class="row">
							<div class="col-2">
								{{ number | sub:forloop.counter0 }}		<!-- 현제 번호 인덱스 -->
							</div>
							<div class="col-2">
								<a href="combd?comb_id={{ c.comb_id }}&pagenum={{ pagenum }}&number={{ number|sub:forloop.counter0 }}" style="color: darkblue">
									{{ c.comb_tit }}					<!-- 제목 -->
								</a>
							</div>
							<!-- 
							<td	align="center">							<!-- 조합메뉴 
								{% for mn in menu_name %}
									{% if mn.comb_id == c.comb_id %} 
										/{{ mn.menu.menu_name }}
									{% endif %}
								{% endfor %}						
							</td>
							-->
							<div class="col-2">
								{{ c.comb_nop }}						<!-- 인원 -->
							</div>
							<div class="col-2"><!-- 닉네임 -->
								{{ c.user.user_nick }}
							</div>
							<div class="col-2">
								{% for cid, cnt in comb_like %}
									{% if c.comb_id == cid %}
										{{cnt}}
									{% endif %}
								{% endfor %}
							</div>
							<div class="col-2">
								{{ c.comb_reg_ts |date:"y-m-d H:i" }}	<!-- 작성일 -->
							</div>
						</div>
					</div>
					{% endfor %}
				{% endif %}
	</div>
	<div style="text-align: center;">
		<br><br>
		{% if startpage > pageblock %}
			<a href="comblist?pagenum={{ startpage|sub:pageblock }}">[◀]</a>
		{% endif %}
		{% for i in pages %}
			{% if i == pagenum %}
				<span>{{ i }}</span>
			{% else %}
				<a href="comblist?pagenum={{ i }}" >{{ i }}</a>
			{% endif %}
		{% endfor %}
		{% if pagecount > endpage %}
			<a href="comblist?pagenum={{ startpage|add:pageblock }}">[▶]</a>
		{% endif %}
	</div>
</body>
{% endblock %}	
